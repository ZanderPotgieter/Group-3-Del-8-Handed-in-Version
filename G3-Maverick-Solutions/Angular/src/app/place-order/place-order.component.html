
    

        <h1>Place Order</h1>
        <form>
        >
       
        <br><br>
        <div class="card">
            <br>
        <div class="divleft"  >
            <label class="subheadinglabel" >Add Customer: </label>
        <br>
            <label for="name">Name:       </label>
            <input class="searchinput" class="form-control" [(ngModel)]="name" type="text" id="name" name="name">
       
            <label for="cusSurname">Surname:   </label>
            <input class="searchinput" class="form-control" [(ngModel)]="surname" type="text" id="surname" name="surname">
       
            <button (click)="getCustomer()" >Add</button>
        </div>
        <br>
    </div>

        <div class="card"> 
            <div class="divleft">
                <label class="subheadinglabel" >Add Products:</label>
                <br>
                <label for="Category">Product Category: </label>
                <select required name="catSelection" [(ngModel)]="catSelection" (ngModelChange)="loadProducts($event)">
                    <option *ngFor="let category of categoryList" [ngValue]="category">{{category.PCatName}}</option>
                </select>
           
                <label for="Product">Product: </label>
                <select required name="prodSelection" [(ngModel)]="prodSelection" (ngModelChange)="addProduct($event)">
                    <option *ngFor="let product of productsWithPrice" [ngValue]="product">{{product.Prodname}}</option>
                </select>
            </div>
         <div class="divleft">
                <label for="quantity">Quantity </label>
                <input  width="5px" type="number" name="quantity" [(ngModel)]="quantity" id="quantity" required>
            
                <button (click)="listProducts()">Add</button>
            
         </div>
        </div>
        <br>
        <label class="subheadinglabel" ></label>
        <br>
        <div class="card">
           
            <br>
            <div class="divleft">
                <label class="subheadinglabel" >Customer Order Details</label>

                <div class="divleft">
                    <label class="displaylabel" for="cusOrdNo">Order No:      </label>
                    <input type="text" name="cusOrdNo" [(ngModel)]="customerOrder.CusOrdNumber" disabled>
                   <!-- <label id="cusOrdNo" name="cusOrdNo">{{customerOrder.CusOrdNumber}}</label> -->
            
                    <label class="displaylabel" for="OrdDate">Date:      </label>

                    <label  id="OrdDate" name="OrdDate">{{customerOrder.CusOrdDate}}</label> 
                </div>

                <br>
                <label class="displaylabel" for="cusName">Customer:       </label>
                <label  id="cusName" name="cusName" >{{customer.CusName}}</label>
                <label  id="cusSurname" name="cusSurname">{{customer.CusSurname}}</label>

        
                <label  class="displaylabel" for="cusCell">Cell:</label>
                <label id="cusCell" name="cusCell" >{{customer.CusCell}}</label>

                <label  class="displaylabel" for="cusCell">Email:</label>
                <label id="cusCell" name="cusCell" >{{customer.CusEmail}}</label>
        
            </div>
    </div>

        <br>
        <div *ngIf="showTable" class="card">
                <table>    
                    <tr>
                        <th>Product</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Subtotal</th>
                        <th>Action</th>
                    </tr>
                    <tr *ngFor="let item of orderProducts, index as ndx">
                        <td>{{item.Prodname}}</td>
                     <!--  <td><input type="text" [(ngValue)]="item" *ngFor="let name of item.quantity" name="name.value" width="5px" [(ngModel)]= "name.Quantity" [(ngModelChange)] = "calculate()"/></td>
                     --> 
                         <td>{{item.Quantity}}</td>
                         <td>R{{item.Price}}</td>
                        <td>R{{item.Subtotal}}</td>
                        <td><button class="btntable" (click) ="remove(ndx)">-X-</button></td>
                    </tr>

                    <tr >
                        
                        <th></th>
                        <th></th>
                        <th>Subtotal (Exc VAT):</th>
                        <th>R{{orderDetails.TotalExcVat}}</th>
                    </tr>
    
                    <tr>
                        
                        <th></th>
                        <th></th>
                        <th></th>
                        <th>VAT {{vatPerc}}%:</th>
                        <th>{{orderDetails.Vat}}</th>
                    </tr>
                
                    <tr>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th>TOTAL:</th>
                        <th>R{{orderDetails.TotalExcVat}}</th>
                    </tr>
                </table>
                

    
              
            <div class="divleft">
                <button type="submit" (click)="placeOrder()">Place Order</button>
                <button type="submit">Cancel</button>
            </div>
        </div>
        <br>



