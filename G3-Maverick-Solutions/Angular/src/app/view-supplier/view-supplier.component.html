<body>
    <h1>Supplier Details</h1>
    <form [formGroup]="supForm">
        <div class="card" *ngIf = "showSearch">
            <br>
        <div class="divleft"  >
            <label class="subheadinglabel" >Enter Supplier Name: </label>
        <br>
            <label for="name">Supplier Name:       </label>
            <input type="text" formControlName="name" [(ngModel)]="name" id="name" name="name" pattern="[a-zA-Z ]*" required>
                  <br>
                  <span style="color:red" *ngIf="supForm.get('name').errors && (supForm.get('name').touched || supForm.get('name').dirty)">
                      <span *ngIf="supForm.get('name').errors.required">Name is required.<br></span>
                      <span *ngIf="supForm.get('name').errors.pattern">Only text characters.<br></span>
                  </span>
       
        </div>
        <br>

        <div class="divleft">
            <button type="submit"(click)="searchSupplier()">Search</button>
            <button type="submit" (click)="gotoSupplierManagment()">Cancel</button>
        </div>

        <table class="table table-striped">  
            <thead class="thead-dark">  
              <tr>  
                <th>Name</th>
                <th>Cell No</th>  
                <th>Email</th>  
                <th>Suburb</th>
                <th>Postal Code</th>  
              </tr>  
            </thead>  
            <tbody>  
              <tr *ngFor="let sup of allSup | async">  
                <td>{{sup.SupName}}</td>  
                <td>{{sup.SupCell}}</td>  
                <td>{{sup.SupEmail}}</td>  
                <td>{{sup.SupSuburb}}</td> 
                <td>{{sup.SupCode}}</td>  
              </tr>  
            </tbody>  
          </table>  

    </div>
    <br>

    <div class="card" *ngIf = "showResults">
       

        <br>
        <div class="divleft" >
            <label class="subheadinglabel"> Searched Supplier Details:</label>
        </div>
    
        <div class="divleft">
            <label for="SupName">Name:     </label>
                  <input type="text" formControlName="SupName" [(ngModel)]="supplier.SupName" id="SupName" name="SupName" pattern="[a-zA-Z ]*" required required [readonly] = "this.inputEnabled">
                  <br>
                  <span style="color:red" *ngIf="supForm.get('SupName').errors && (supForm.get('SupName').touched || supForm.get('SupName').dirty)">
                      <span *ngIf="supForm.get('SupName').errors.required">Name is required.<br></span>
                      <span *ngIf="supForm.get('SupName').errors.pattern">Only text characters.<br></span>
                  </span>
          </div>


        <br>
        <div class="divleft" >
            <label for="SupCell">Cell:</label>
                <input type="text" formControlName="SupCell" [(ngModel)]="supplier.SupCell" id="SupCell" name="SupCell" pattern="[0-9 ]*" required required [readonly] = "this.inputEnabled">
                <br>
                <span style="color:red" *ngIf="supForm.get('SupCell').errors && (supForm.get('SupCell').touched || supForm.get('SupCell').dirty)">
                    <span *ngIf="supForm.get('SupCell').errors.required">Cell is required.<br></span>
                    <span *ngIf="supForm.get('SupCell').errors.minlength">Cell must be 10 numbers</span>
                    <span *ngIf="supForm.get('SupCell').errors.maxlength">Cell must be 10 numbers</span>
                    <span *ngIf="supForm.get('SupCell').errors.pattern">Only numbers allowed.<br></span>
                </span>
        </div>

        <br>
        <div class="divleft"  >
            <label for="SupEmail">Email:</label>
              <input type="text" formControlName="SupEmail" [(ngModel)]="supplier.SupEmail" id="SupEmail" name="SupEmail" pattern="[a-zA-Z ]*" required required [readonly] = "this.inputEnabled">
              <br>
              <span style="color:red" *ngIf="supForm.get('SupEmail').errors && (supForm.get('SupEmail').touched || supForm.get('SupEmail').dirty)">
                  <span *ngIf="supForm.get('SupEmail').errors.required">Email is required.<br></span>
                  <span *ngIf="supForm.get('SupEmail').errors.email">Please enter in a valid email address.<br></span>
              </span>
        </div>

        <br>
        <div class="divleft" >
            <label for="SupStreetNr">Street No:</label>
                <input type="text" formControlName="SupStreetNr" [(ngModel)]="supplier.SupStreetNr" id="SupStreetNr" name="SupStreetNr" pattern="[0-9 ]*" required required [readonly] = "this.inputEnabled">
                <br>
                <span style="color:red" *ngIf="supForm.get('SupStreetNr').errors && (supForm.get('SupStreetNr').touched || supForm.get('SupStreetNr').dirty)">
                    <span *ngIf="supForm.get('SupStreetNr').errors.required">Street No is required.<br></span>
                    <span *ngIf="supForm.get('SupStreetNr').errors.maxlength">Max 8 numbers.</span>
                    <span *ngIf="supForm.get('SupStreetNr').errors.pattern">Only numbers allowed.<br></span>
                </span>
        </div>

        <br>
        <div class="divleft" >
            <label for="SupStreet">Street:    </label>
                  <input type="text" formControlName="SupStreet" [(ngModel)]="supplier.SupStreet" id="SupStreet" name="SupStreet" pattern="[a-zA-Z ]*" required required [readonly] = "this.inputEnabled">
                  <br>
                  <span style="color:red" *ngIf="supForm.get('SupStreet').errors && (supForm.get('SupStreet').touched || supForm.get('SupStreet').dirty)">
                      <span *ngIf="supForm.get('SupStreet').errors.required">Street is required.<br></span>
                  </span>
        </div>

        <br>
        <div class="divleft" >
            <label for="SupCode">Postal Code:</label>
                <input type="text" formControlName="SupCode" [(ngModel)]="supplier.SupCode" id="SupCode" name="SupCode" pattern="[0-9 ]*" required placeholder="0000" required [readonly] = "this.inputEnabled">
                <br>
                <span style="color:red" *ngIf="supForm.get('SupCode').errors && (supForm.get('SupCode').touched || supForm.get('SupCode').dirty)">
                    <span *ngIf="supForm.get('SupCode').errors.required">Postal Code is required.<br></span>
                    <span *ngIf="supForm.get('SupCode').errors.minlength">Postal Code is 4 digits.</span>
                    <span *ngIf="supForm.get('SupCode').errors.maxlength">Postal Code is 4 digits.</span>
                    <span *ngIf="supForm.get('SupCode').errors.pattern">Only numbers allowed.<br></span>
                </span>
        </div>
 
        <br>
        <div class="divleft" >
            <label for="SupSuburb">Suburb:</label>
                <input type="text" formControlName="SupSuburb" [(ngModel)]="supplier.SupSuburb" id="SupSuburb" name="SupSuburb" pattern="[a-zA-Z ]*" required placeholder="Example: Hatfield" required [readonly] = "this.inputEnabled">
                <br>
                <span style="color:red" *ngIf="supForm.get('SupSuburb').errors && (supForm.get('SupSuburb').touched || supForm.get('SupSuburb').dirty)">
                    <span *ngIf="supForm.get('SupSuburb').errors.required">Suburb is required.<br></span>
                    <span *ngIf="supForm.get('SupSuburb').errors.pattern">Only text characters.<br></span>
                </span> 
        </div>
        <br><br>

        <div class="divleft" *ngIf="showButtons">
            <button type="submit" (click)="enableInputs()">Update</button>
            <button type="submit" (click)="deleteSupplier()">Delete</button>
         </div>

         <div class="divleft" *ngIf="showSave" >
         <button type="submit" (click)="updateSupplier()">Save</button>
         <button type="submit"  (click)="gotoSupplierManagment()">Cancel</button>
        </div>
        
    </div>
    
    </form>
</body>